<div class="mi-compact-certificate-body" ng-show="certMetaModel">
  <div class="row">
    <div class="col-xs-6 col-sm-6">
      <div class="text-muted"><span dynamic-label key="inbox.list.issuer.label" /></div>
      <span ng-attr-id="cert-issuer-text-{{certMetaModel.id}}"><strong>{{certMetaModel.caregiverName}}, {{certMetaModel.careunitName}}</strong></span>
    </div>
    <div class="col-xs-6 col-sm-6 text-right" ng-init="isCollapsed = true">
      <div>
        <a ng-click="isCollapsed = !isCollapsed" ng-switch="isCollapsed" data-toggle="collapse" data-target="#intygsIdText-{{certMetaModel.id}}">
           {{isCollapsed ? 'Visa intygs-ID' : 'DÃ¶lj intygs-ID'}}
          <span ng-switch-when="false" data-toggle="collapse" data-target="#intygsIdText-{{certMetaModel.id}}" class="glyphicon glyphicon-chevron-up show-intygs-id-arrow"></span>
          <span ng-switch-when="true" data-toggle="collapse" data-target="#intygsIdText-{{certMetaModel.id}}" class="glyphicon glyphicon-chevron-down show-intygs-id-arrow"></span>
        </a>
        <div id="intygsIdText-{{certMetaModel.id}}" class="collapse">
          <span>{{certMetaModel.id}}</span>
        </div>
      </div>
   </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-sm-6 body-col">
      <latest-events cert-id="{{certMetaModel.id}}" events="certMetaModel.events" tight-rows="true" show-more-button-location="bottom"
                     class="compact-body-latest-events"></latest-events>
    </div>

    <div class="col-xs-12 col-sm-6 body-col text-right">
      <button ng-if="onArchiveClick" type="button" ng-attr-id="archiveCertificateBtn-{{certMetaModel.id}}" class="btn btn-secondary"
              ng-click="onArchiveClick({cert:certMetaModel});archiveTooltipOpen=false;"
              uib-popover="{{messageService.getProperty('button.archive.tooltip')}}"
              popover-is-open="archiveTooltipOpen"
              popover-popup-delay="300" popover-append-to-body="true" popover-placement="auto top">
        <i class="icon icon-box"></i> <span dynamic-label key="button.archive"></span>
      </button>

      <button ng-if="onViewClick" type="button" ng-attr-id="viewCertificateBtn-{{certMetaModel.id}}" class="btn btn-primary"
              ng-click="onViewClick({cert:certMetaModel})"
              uib-popover="{{messageService.getProperty('button.show.tooltip')}}"
              popover-popup-delay="300" popover-append-to-body="true" popover-placement="auto top">
        <i class="icon icon-eye"></i> <span dynamic-label key="button.show"></span>
      </button>

    </div>
  </div>
</div>

