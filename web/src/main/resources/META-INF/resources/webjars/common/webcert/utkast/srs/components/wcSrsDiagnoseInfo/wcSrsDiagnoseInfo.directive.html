<wc-spinner label="srs.srsfordiagnose.load.message" show-spinner="!viewState.doneLoading">



  <wc-support-panel-scrollable-body dom-id="srs-panel-scrollable-body">
  <!-- if mainMessageKey is set, we have a message to show why there is no content, eg. error or no srs info at all. -->
  <div ng-if="!viewState.mainMessageKey">

    <wc-alert-message ng-if="viewState.atgarderStatusMessage" alert-severity="info">{{viewState.atgarderStatusMessage}}</wc-alert-message>

    <!-- Atgarder finns för diagnosen -->
    <div ng-if="viewState.srsdata.atgarderObs.length > 0">
      <h2>Tänk på att</h2>
      <ul>
        <li ng-repeat="atgard in viewState.srsdata.atgarderObs">
          {{atgard}}
        </li>
      </ul>

      <h2>Rekommenderade åtgärder</h2>
      <ul>
        <li ng-repeat="atgard in viewState.srsdata.atgarderRek">
          {{atgard}}
        </li>
      </ul>

      <div class="read-more-button" ng-if="viewState.atgarderLink">
        <a class="btn btn-primary" target="_blank" ng-href="{{viewState.atgarderLink}}">Läs mer</a>
      </div>

    </div>


    <wc-alert-message ng-if="viewState.statistikStatusMessage" alert-severity="info">
      {{viewState.statistikStatusMessage}}
    </wc-alert-message>

    <!-- Statistik finns för diagnosen -->
    <div ng-if="viewState.srsdata.statistikBild">
      <img class="srs-statistik-bild" ng-src="{{viewState.srsdata.statistikBild}}" alt="Diagram, statistik för liknande sjukskrivningar">
      <div class="read-more-button" ng-if="viewState.statistikLink"><a class="btn btn-primary" target="_blank"
                                                                       ng-href="{{viewState.statistikLink}}">Läs mer</a>
      </div>
    </div>
  </div>


  <!-- Main message (no data / load error etc -->
  <div ng-if="viewState.mainMessageKey" class="alert alert-{{viewState.mainMessageKey.type}}">
    <span dynamic-label key="{{viewState.mainMessageKey.key}}"></span>
  </div>
  </wc-support-panel-scrollable-body>
</wc-spinner>
