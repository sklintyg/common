<div class="wc-integration-enhet-selector">
  <div ng-repeat="vg in model.vardgivare | orderBy:'namn'">
    <div class="vardgivare">
      <div class="vardgivare__title">
      <i class="material-icons md-24" ng-attr-id="expand-vg-{{vg.id}}" ng-if="vg.vardenheter.length > 0"
         ng-click="vg.expanded = ! vg.expanded">{{vg.expanded ? 'expand_less': 'expand_more'}}</i>
      <i ng-if="vg.vardenheter.length === 0"></i>
        {{vg.namn}}
        <div class="missing-subscription" ng-if="!isSelectable(vg.id)">(abonnemang saknas)</div>
      </div>

      <div ng-if="vg.expanded" ng-repeat="enhet in vg.vardenheter | orderBy:'namn'" class="vardenhet">


        <button type="button" class="btn btn-link"
                ng-attr-id="wc-integration-enhet-selector-select-active-unit-{{enhet.id}}-link"
                ng-click="itemSelected($event, enhet)"
                ng-disabled="!isSelectable(enhet.vardgivareHsaId)">
          {{enhet.namn}}
        </button>

      </div>
    </div>
  </div>
</div>