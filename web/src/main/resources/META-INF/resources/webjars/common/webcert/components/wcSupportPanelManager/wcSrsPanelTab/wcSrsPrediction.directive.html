<div class="srs-panel-body-content">
  <!-- PREDICTION ERROR MESSAGE -->
  <div ng-if="srs.prediktionError">
    <wc-srs-error-box message-string="srs.prediktionError"></wc-srs-error-box>
  </div>
  <div ng-if="srs.prediktionInfo">
    <wc-srs-info-box message-string="srs.prediktionInfo"></wc-srs-info-box>
  </div>

  <!-- RISK DIAGRAM -->
  <div>
    <wc-srs-risk-diagram />
  </div>
  <div ng-show="srs.consent === 'JA' && !srs.consentError">
    <!-- LÄKARENS EGEN BEDÖMNING --->
    <div id="srs-own-opinion" ng-if="srs.prediction.probabilityOverLimit">
      <hr />
      <p><b>Enligt min läkarbedömning anser jag att patientens risk är</b></p>
      <div class="srs-question srs-option-grid">
        <div class="srs-option-grid-cell">
          <wc-radio-wrapper>
            <input type="radio" id="risk-opinion-higher" name="risk-opinion" ng-value="'HOGRE'"
                   ng-model="srs.prediction.opinion" ng-disabled="srs.isForlangning || srs.isReadOnly"
                   ng-change="setOpinion('HOGRE')" />
            <label for="risk-opinion-higher">Högre</label>
          </wc-radio-wrapper>
        </div>
        <div class="srs-option-grid-cell">
          <wc-radio-wrapper>
            <input type="radio" id="risk-opinion-correct" name="risk-opinion" ng-value="'KORREKT'"
                   ng-model="srs.prediction.opinion" ng-disabled="srs.isForlangning || srs.isReadOnly"
                   ng-change="setOpinion('KORREKT')" />
            <label for="risk-opinion-correct">Korrekt</label>
          </wc-radio-wrapper>
        </div>
        <div class="srs-option-grid-cell">
          <wc-radio-wrapper>
            <input type="radio" id="risk-opinion-lower" name="risk-opinion" ng-value="'LAGRE'"
                   ng-model="srs.prediction.opinion" ng-disabled="srs.isForlangning || srs.isReadOnly"
                   ng-change="setOpinion('LAGRE')" />
            <label for="risk-opinion-lower">Lägre</label>
          </wc-radio-wrapper>
        </div>
        <div class="srs-option-grid-cell">
          <wc-radio-wrapper>
            <input type="radio" id="risk-opinion-kanejbedoma" name="risk-opinion" ng-value="'KAN_EJ_BEDOMA'"
                   ng-model="srs.prediction.opinion" ng-disabled="srs.isForlangning || srs.isReadOnly"
                   ng-change="setOpinion('KAN_EJ_BEDOMA')" />
            <label for="risk-opinion-kanejbedoma">Kan ej bedöma</label>
          </wc-radio-wrapper>
        </div>

      </div>
      <div ng-if="srs.prediction.opinionError">
        <wc-srs-error-box message-string="srs.prediction.opinionError"></wc-srs-error-box>
      </div>
      <br />
    </div>
  </div>
</div>
<div ng-if="!srs.isReadOnly && (!srs.isForlangning || (srs.isForlangning && srs.prediction.probabilityOverLimit))">
  <hr class="srs-thick-divider" />
  <div class="srs-panel-body-content">
    <!-- BERÄKNA RISK: FRÅGOR -->

    <h3 class="floatLeft">Beräkna patientens risk</h3>
    <div class="line" ng-if="!srs.isForlangning">
      <a id="questionsCollapser" data-toggle="collapse" ng-click="questionsCollapserClicked()" href="#questions"
         aria-expanded="!srs.isQuestionsCollapsed" aria-controls="questions">
        <i class="glyphicon glyphicon-menu-down"
           ng-class="{'glyphicon-menu-down': srs.isQuestionsCollapsed, 'glyphicon-menu-up': !srs.isQuestionsCollapsed}"></i>
      </a>
    </div>
    <br />
    <br />
    <div id="questions" class="panel-collapse collapse in">
      <wc-srs-questionnaire></wc-srs-questionnaire>
    </div>
  </div>
</div>