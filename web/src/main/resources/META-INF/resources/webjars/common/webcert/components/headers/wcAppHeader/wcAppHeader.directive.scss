@import 'wcAppHeader.variables.scss';

wc-app-header {

  // center the entire directive, and constrain the max width
  max-width: $wc-max-content-width;
  margin: auto;

  // Is a flex (root) container and is not itself a flexitem
  display: flex;
  //Stretch on cross-axis to make items 100% height
  align-items: stretch;
  justify-content: space-between;
  background-color: $wc-color-17;
  height: $wc-header-height;

  .logo {
    flex: 1;
    height: 100%;
    min-width: $wc-header-logo-width;
    max-width: $wc-header-logo-width;
    background-color: $wc-color-19;
    display: flex;
    align-items: center;
    justify-content: center;

    border-width: 0 6px 0 0;
    border-style: solid;
    border-image: linear-gradient(to left, rgba(0, 0, 0, 0.1), rgba(42, 48, 78, 0.1)) 1 100%;

    .logo-svg {
      width: 121px;
      height: 26px;
      // Created by using the original webcert_vit.svg and converting it to base64 using tool at https://www.mobilefish.com/services/base64/base64.php
      background: no-repeat center url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAuNiAzNC4zNCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPkFydGJvYXJkIDIgY29weTwvdGl0bGU+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTcuMTcsMEExNy4xNywxNy4xNywwLDEsMCwzNC4zNCwxNy4xNywxNy4xNywxNy4xNywwLDAsMCwxNy4xNywwWm0wLDI2LjQ1TDYuMzEsMjEuMTFsMi43NC0xLjM1LDguMTIsNCw4LjEyLTRMMjgsMjEuMTFabTguMTItNy45My04LjEyLDQtOC4xMi00TDYuMzEsMTcuMTdsMi43NC0xLjM1LDIuNzQsMS4zNSw1LjM4LDIuNjUsNS4zOC0yLjY1LDIuNzQtMS4zNUwyOCwxNy4xN1ptMC0zLjk0LTIuNzQsMS4zNS01LjM4LDIuNjUtNS4zOC0yLjY1TDkuMDUsMTQuNTgsNi4zMSwxMy4yNCwxNy4xNyw3Ljg5LDI4LDEzLjI0WiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTU3LjY0LDI4Ljg0LDU1LjE2LDE4LjQ1Yy0uNDEtMS43Mi0uODgtNC4zMi0xLjA2LTUuNzktLjIyLDEuNDctLjY5LDQuMDctMS4xLDUuNzZMNTAuNTMsMjguODRINDUuNzVMNDAuMTgsNmg1LjE2TDQ3LjksMTcuODljLjI4LDEuMjUuNjMsMy43OS43OCw1LC4yMi0xLjI1LjYzLTMuNzksMS01LjUxTDUyLjE5LDZINTYuMWwyLjUsMTEuNDVjLjM4LDEuNzguNzgsNC4xOSwxLDUuNDQuMTktMS4yNS41Ni0zLjYuODEtNC44Mkw2Myw2aDUuMUw2Mi40NSwyOC44NFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04My40NywyOGExOC44MywxOC44MywwLDAsMS02LjkxLDEuMzFjLTYsMC04LjM5LTQuMS04LjM5LTkuMlM3MC44LDExLDc2LjQsMTFjNS4xNiwwLDcuNDIsMy40NCw3LjQyLDguNiwwLC44MSwwLDEuNTYtLjA2LDEuODVINzNjLjE5LDIuOTEsMS42MywzLjkxLDQuMTksMy45MWEyOC44MywyOC44MywwLDAsMCw1LjQ4LS43MlptLTQuMTktOS41NGMwLTEuOTQtMS4wNi0zLjQxLTMtMy40MVM3MywxNi40NSw3MywxOC42NFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04Ni4yNSwyOC44NFY1SDkxdjguMzJBNS45MSw1LjkxLDAsMCwxLDk1Ljc5LDExYzQuMjIsMCw2LDMuODIsNiw4Ljk1LDAsNC44NS0yLjM1LDkuNDItNyw5LjQyYTUuODMsNS44MywwLDAsMS00LjcyLTIuNjNsLS43NSwyLjEzWk05MSwyMy4xOGEzLjczLDMuNzMsMCwwLDAsMi45MSwxLjg4YzEuNiwwLDMuMDctMS4zNCwzLjA3LTQuNjksMC0yLjg1LS40NC01LjEtMi45MS01LjEtMS45NCwwLTIuOTEsMi0zLjA3LDIuMTlaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTE3LjI3LDI3Ljg0YTEzLjI0LDEzLjI0LDAsMCwxLTUuNzksMS40NGMtNS41NCwwLTguMDctMy45MS04LjA3LTkuMTRTMTA2LjI1LDExLDExMS43NiwxMUExMy44NywxMy44NywwLDAsMSwxMTcsMTIuMmwtMSwzLjYzYTE2LjM0LDE2LjM0LDAsMCwwLTMuOTQtLjU5Yy0yLjQxLDAtNC4xLjk0LTQuMSw0LjkxczEuODEsNC45MSwzLjc1LDQuOTFhMTcuMzIsMTcuMzIsMCwwLDAsNC41NC0uODFaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTMzLjYyLDI4YTE4LjgzLDE4LjgzLDAsMCwxLTYuOTEsMS4zMWMtNiwwLTguMzktNC4xLTguMzktOS4yUzEyMC45NSwxMSwxMjYuNTUsMTFjNS4xNiwwLDcuNDIsMy40NCw3LjQyLDguNiwwLC44MSwwLDEuNTYtLjA2LDEuODVIMTIzLjE0Yy4xOSwyLjkxLDEuNjMsMy45MSw0LjE5LDMuOTFhMjguODIsMjguODIsMCwwLDAsNS40OC0uNzJabS00LjE5LTkuNTRjMC0xLjk0LTEuMDYtMy40MS0zLTMuNDFzLTMuMjIsMS4zOC0zLjI5LDMuNTdaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTM2LjczLDI4Ljg0VjExLjQ4aDMuMDdsMSwzLjc1YzEuMjgtMy42Myw0LTQsNS4wNy00YTguNDcsOC40NywwLDAsMSwxLjk0LjE5bC0uMzQsNC42OWE4LjcxLDguNzEsMCwwLDAtMS4wNi0uMDYsNi4wOSw2LjA5LDAsMCwwLTQuODgsMi4zNVYyOC44NFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xNjAuNiwyOC4zMWExMi4yNywxMi4yNywwLDAsMS00LjMyLDFjLTEuNjMsMC00LjYtLjgxLTQuNi01LjQ4di04LjJoLTIuNDdWMTIuMDdsMi41LS42My40Ny0zLjU3LDQuMjktMS4xOXY0Ljc5aDMuNnY0LjEzaC0zLjZ2OC4yYzAsMS4xMy42MywxLjM4LDEuMjUsMS4zOGE2LjI4LDYuMjgsMCwwLDAsMS45NC0uMzRaIi8+Cjwvc3ZnPg==);
    }
  }

  // General styles shared by sub directives wc-header-user, unit etc --------------------------------------------------

  .wc-header-directive-container {
    // The actual directives (wc-header-unit etc) are not flex-containers as we need to be able to relativly place the expanded dropdoen menus below it)

    //Act as a flex horizontal container
    display: flex;
    //where its items are vertically centered..
    align-items: center;

    //This inner flex container must have 100% height, as it itself is actually NOT a flex-item
    height: 100%;

    padding: 0 16px;

    // rules below handles the gradiented dividers between sections
    border-width: 0 6px;
    border-style: solid;
    //The png contains a 12 pixel wide alpha-gradient that is sliced to left/right borders of the different directives.
    border-image-source: url(/web/webjars/common/webcert/components/headers/wcAppHeader/divider-border.png);
    border-image-slice: 0 50%;
    border-image-repeat: round;

    // when in expanded mode (the menu is expanded), replace border divider with a boxshadow that makes it "pop" out a bit.
    &.expanded {
      border-color: transparent;
      border-image: none;
      //instead a drowshadow on the sides here
      box-shadow: 2px 2px 8px 0 rgba(0, 0, 0, 0.52);
    }

    // a vertical container to allow us to have content with multiple content rows
    // in its parent flex-container but still vertically centered.
    .vertical-container {
      //is a flex child
      flex: 0 1 auto;

      // is a flex container
      display: flex;
      // switch axis to columns
      flex-direction: column;
      min-width: 1px;

      .single-text-row-container {
        //lay out items horizontally
        display: flex;

        //if we user 0px / 0%, scss minification removes the unit - causing flexbox errors in IE, so we set 1px
        min-width: 1px;
      }

    }

    a {
      color: $wc-color-20;
      text-decoration: underline;
      &:hover {
        color: $wc-color-03;
      }
    }
    .btn.btn-link {
      color: $wc-color-20;
      &:hover {
        color: $wc-color-03;
      }
    }

  }

  //Override bootstraps default dropdown for this context
  .dropdown-menu {
    min-width: 0;
    position: relative;
    padding: 20px 40px;
    left: 0;
    bottom: 0;
    width: 100%;
    background-clip: border-box;
    background-color: $wc-color-17;

    margin: 0;
    border-radius: 0;
    border-width: 0 6px;
    border-style: solid;
    border-color: transparent;
    border-image: none;

    //instead a drowshadow on the sides here
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.32);


    > li > a {
      @extend %wc-typo-08;
      color: $wc-color-20;
      text-decoration: underline;
      &:focus, &:hover {
        background-color: $wc-color-17;
        color: $wc-color-03;
        text-decoration: underline;
      }
    }
  }

  //TODO: This could be made a generic util class?
  .truncate-when-needed {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .header-icon {
    padding-right: 8px;
  }

  .header-chevron {

    &:focus, &:hover {
      color: $wc-color-25;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }
  }
}
