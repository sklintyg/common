<div class="white-space-no-wrap" ng-cloak>

  <wc-approve-receivers-button
      ng-if="showValjMottagareButton()"
      vardenhet="{{viewState.enhetsId}}"
      intygtyp="intygType"
      intygid="viewState.intygModel.id">
  </wc-approve-receivers-button>

  <button type="button"
          intygstyp="{{intygType}}"
          id="createFromTemplateBtn"
          class="btn btn-success"
          ng-if="IntygHeaderService.showCreateFromTemplate()"
          ng-disabled="!IntygHeaderService.enableCreateFromTemplate()"
          ng-click="IntygHeaderService.createFromTemplate(viewState.intygModel);createFromTemplatePopoverOpen=false"
          uib-popover="{{IntygHeaderService.getCurrentCreateFromTemplate().tooltip}}"
          popover-is-open="createFromTemplatePopoverOpen"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">description</i> {{IntygHeaderService.getCurrentCreateFromTemplate().buttonText}}
  </button>

  <button type="button"
          intygstyp="{{intygType}}"
          id="gotoRelatedFromTemplateBtn"
          class="btn btn-success"
          ng-if="IntygHeaderService.showGotoCreatedFromTemplate()"
          ng-click="IntygHeaderService.gotoRelatedFromTemplate();gotoRelatedFromTemplatePopoverOpen=false"
          uib-popover="{{IntygHeaderService.getCurrentCreateFromTemplate().gotoButtonTooltip}}"
          popover-is-open="gotoRelatedFromTemplatePopoverOpen"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">description</i> {{IntygHeaderService.getCurrentCreateFromTemplate().gotoButtonText}}
  </button>

  <button type="button"
          id="sendBtn"
          class="btn btn-primary"
          wc-authority feature="SKICKA_INTYG"
          request-origin="!UTHOPP"
          intygstyp="{{intygType}}"
          ng-if="showSkickaButton()"
          ng-click="send();sendPopoverOpen=false"
          uib-popover="{{sendBtnTooltipText}}"
          popover-is-open="sendPopoverOpen"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">email</i> <span dynamic-label key="{{intygType}}.button.send"></span>
  </button>
  <!-- Normal pdf-utskrift av signerat intyg  -->
  <button ng-if="showPrintBtn()"
          type="button"
          id="downloadprint"
          class="btn btn-primary"
          intygstyp="{{intygType}}"
          ng-click="print(viewState.intygModel, false);printPopoverOpen=false"
          uib-popover="{{normalPrintBtnTooltipText}}"

          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-is-open="printPopoverOpen"
          popover-placement="auto top">
    <i class="material-icons">print</i> <span dynamic-label key="common.button.save.as.pdf"></span>
  </button>

  <iframe style="display: none;" name="printTargetIFrame"></iframe>

  <div id="downloadprintemployer" ng-if="showEmployerPrintBtn()" intygType="{{intygType}}" style="display:inline;">
    <div class="btn-group" >
      <button type="button"
              id="intyg-header-dropdown-select-pdf-type"
              class="btn btn-primary dropdown-toggle"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              uib-popover="{{selectPrintBtnTooltipText}}"

              popover-popup-delay="300"
              popover-append-to-body="true"
              popover-placement="auto top">
        <i class="material-icons">print</i> <span dynamic-label key="common.button.save.as.pdf"></span> <i class="material-icons">expand_more</i>
      </button>
      <ul class="dropdown-menu">
        <!--<li wc-authority feature="UTSKRIFT">-->
        <li ng-if="utskrift">
          <a href="#" onClick="return false;" ng-click="print(viewState.intygModel, false)">
            <span dynamic-label key="common.button.save.as.pdf.full"></span>
          </a>
        </li>
        <!--<li wc-authority feature="ARBETSGIVARUTSKRIFT"-->
        <li ng-if="arbetsgivarUtskrift">
          <a href="#" onClick="return false;" ng-click="print(viewState.intygModel, true);arbetsprintPopoverOpen=false">
            <span dynamic-label key="common.button.save.as.pdf.minimal"></span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Gamla KOPIERA-knappen. Har bytt namn till Förnya -->
  <button type="button"
          id="fornyaBtn"
          class="btn btn-primary"
          ng-if="showFornyaButton()"
          ng-click="fornya(viewState.intygModel);fornyaBtnPopOver=false"
          uib-popover="{{fornyaBtnTooltipText}}"

          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top"
          popover-is-open="fornyaBtnPopOver">
    <i class="material-icons">autorenew</i> Förnya
  </button>

  <div class="button-tooltip"
       ng-if="showErsattButton()"
       ng-class="{'disabled':ersattButtonDisabled}"
       uib-popover="{{ersattBtnTooltipText}}"

       popover-popup-delay="300"
       popover-append-to-body="true"
       popover-placement="auto top">
    <button type="button"
            id="ersattBtn"
            class="btn btn-primary"
            ng-click="ersatt(viewState.intygModel)"
            ng-disabled="ersattButtonDisabled">
      <i class="material-icons">swap_horiz</i> Ersätt
    </button>
  </div>

  <button type="button"
          id="makuleraBtn"
          class="btn btn-secondary"
          ng-if="showMakuleraButton()"
          ng-click="makuleraPopoverOpen=false;makulera(viewState.intygModel)"
          uib-popover="{{makuleraBtnTooltipText}}"
          popover-is-open="makuleraPopoverOpen"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top"
          popover-class="z-low">
    <i class="material-icons">delete</i> Makulera
  </button>
</div>
